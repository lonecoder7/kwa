<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kerala Weightlifting Association</title>
  
  <link rel="icon" href="image1.jpeg" type="image/jpeg" />

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

  <style>
    /* Custom background pattern */
    body {
      font-family: 'Inter', sans-serif;
      background-color: #F8F8F8;
      background-image:
        url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%236F4E37' fill-opacity='0.08'%3E%3Cpath d='M25 30 L30 30 L30 70 L25 70 Z M20 35 L15 35 L15 40 L12 40 L12 60 L15 60 L15 65 L20 65 Z M35 35 L40 35 L40 40 L43 40 L43 60 L40 60 L40 65 L35 65 Z'/%3E%3C/g%3E%3C/svg%3E"),
        url("data:image/svg+xml,%3Csvg width='120' height='120' viewBox='0 0 120 120' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%236F4E37' fill-opacity='0.06'%3E%3Ccircle cx='60' cy='30' r='8'/%3E%3Crect x='56' y='38' width='8' height='30'/%3E%3Ccircle cx='60' cy='75' r='12'/%3E%3Crect x='52' y='80' width='16' height='6'/%3E%3C/g%3E%3C/svg%3E"),
        url("data:image/svg+xml,%3Csvg width='150' height='150' viewBox='0 0 150 150' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%236F4E37' fill-opacity='0.07'%3E%3Cpath d='M75 45 L78 45 L78 50 L82 50 L82 100 L78 100 L78 105 L72 105 L72 100 L68 100 L68 50 L72 50 L72 45 Z M60 55 L65 55 L65 95 L60 95 Z M85 55 L90 55 L90 95 L85 95 Z'/%3E%3C/g%3E%3C/svg%3E");
      background-position: 0 0, 50px 50px, 100px 25px;
      background-size: 100px 100px, 120px 120px, 150px 150px;
      background-repeat: repeat;
      color: #333333; /* --foreground */
    }

    h1, h2, h3, h4, h5, h6, .font-oswald { font-family: 'Oswald', sans-serif; }

    /* Smooth scrolling */
    html { scroll-behavior: smooth; }

    /* Custom scrollbar */
    ::-webkit-scrollbar { width: 10px; }
    ::-webkit-scrollbar-track { background: #f1f1ff1; }
    ::-webkit-scrollbar-thumb { background: #B20710; border-radius: 5px; }
    ::-webkit-scrollbar-thumb:hover { background: #8a0509; }

    /* Animation for mobile menu */
    @keyframes slideInFromTop {
      from { transform: translateY(-20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    .animate-slide-in-from-top { animation: slideInFromTop 0.3s ease-out; }
  </style>

  <style>
    /* Fix: proper keyframes names */
    @keyframes keyframes-fade-in-up {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in-up { animation: keyframes-fade-in-up 0.6s ease-out forwards; }

    .stagger-1 { animation-delay: 0.1s; }
    .stagger-2 { animation-delay: 0.2s; }
    .stagger-3 { animation-delay: 0.3s; }
    .stagger-4 { animation-delay: 0.4s; }

    .animate-on-scroll {
      opacity: 0;
      transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
    .animate-on-scroll.is-visible { opacity: 1; transform: translateY(0) !important; }

    .hover-lift { transition: transform 0.3s ease-out, box-shadow 0.3s ease-out; }
    .hover-lift:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.1); }

    @keyframes keyframes-glow {
      0%, 100% { box-shadow: 0 0 5px rgba(178, 7, 16, 0.5); }
      50% { box-shadow: 0 0 15px rgba(178, 7, 16, 1); }
    }
    .animate-glow { animation: keyframes-glow 2s infinite ease-in-out; }

    .loading-dots::after { content: '.'; animation: keyframes-dots 1.4s infinite; }
    @keyframes keyframes-dots {
      0% { content: '.'; }
      33% { content: '..'; }
      66% { content: '...'; }
    }

    /* Responsive calendar wrapper */
    .calendar-embed { width: 100%; height: 420px; }
    @media (min-width: 640px) { .calendar-embed { height: 520px; } }
    @media (min-width: 1024px) { .calendar-embed { height: 640px; } }
    
    /* === CSS FOR NEW LEAFLET MAP === */
    .kerala-map-wrapper { 
      display: grid; 
      grid-template-columns: 1fr; /* Default to single column on mobile */
      min-height: 70vh; 
      border: 1px solid #e5e7eb; 
      background: #fff;
      border-radius: 0.5rem;
      box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
      overflow: hidden;
    }
    @media (min-width: 1024px) { /* lg: */
      .kerala-map-wrapper {
        grid-template-columns: 1fr 320px; /* Two columns on desktop */
      }
    }

    #kerala-map { 
      height: 50vh; /* Fixed height on mobile */
      width: 100%; 
    }
    @media (min-width: 1024px) { /* lg: */
      #kerala-map {
        height: 70vh; /* Taller height on desktop */
      }
    }

    .kerala-sidebar { 
      border-top: 1px solid #e5e7eb; /* Top border on mobile */
      background: #fafafa; 
      display: flex;
      flex-direction: column;
    }
    @media (min-width: 1024px) { /* lg: */
      .kerala-sidebar {
        border-top: none;
        border-left: 1px solid #e5e7eb; /* Left border on desktop */
      }
    }
    
    .kerala-sidebar-inner { 
      padding: 16px; 
      font-family: 'Inter', sans-serif; /* Use project font */
      height: 100%;
      overflow-y: auto;
    }
    .kerala-sidebar-inner h2 { 
      margin: 0 0 12px; 
      font-size: 18px; 
      font-family: 'Oswald', sans-serif; /* Use project font */
      color: #333;
    }
    .kerala-sidebar-inner ul { 
      list-style: none; 
      margin: 0 0 12px; 
      padding: 0; 
    }
    .kerala-sidebar-inner li { 
      margin: 16px 0; 
      font-size: 14px;
      display: flex;
      align-items: start;
      gap: 8px;
    }
    .kerala-sidebar-inner li strong {
      font-weight: 500;
      color: #555;
      display: block;
      margin-bottom: 2px;
      font-size: 12px;
      text-transform: uppercase;
    }
    .kerala-sidebar-inner li span {
      color: #111;
      font-weight: 500;
      word-break: break-word;
    }
    .kerala-sidebar-inner .hint { 
      font-size: 12px; 
      color: #666; 
      margin-top: 16px;
      padding-top: 16px;
      border-top: 1px solid #e5e7eb;
    }
    
    .leaflet-container { 
      outline: none; 
      background: #f1f5f9; /* Lighter background for map */
    }

    /* --- MODAL CSS (From Manoj File) --- */
    #info-modal {
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }
    #info-modal.active {
      display: flex !important;
      opacity: 1;
      visibility: visible;
    }
    #info-modal .modal-content {
      transform: scale(0.95);
      transition: transform 0.3s ease;
    }
    #info-modal.active .modal-content {
      transform: scale(1);
    }
  </style>
</head>
<body>

  <div id="app-container"></div>

  <div id="info-modal" class="fixed inset-0 z-[9999] hidden items-center justify-center bg-black/60 backdrop-blur-sm opacity-0">
    <div class="modal-content bg-white rounded-lg shadow-2xl w-full max-w-4xl m-4 max-h-[90vh] flex flex-col overflow-hidden">
      <div class="p-5 border-b border-gray-200 flex justify-between items-center bg-gray-50">
        <h3 id="modal-title" class="text-2xl font-oswald text-[#B20710] uppercase tracking-wide"></h3>
        <button onclick="closeModal()" class="text-gray-500 hover:text-[#B20710] transition-colors p-2 rounded-full hover:bg-gray-200">
          <i data-lucide="x" class="w-6 h-6"></i>
        </button>
      </div>
      <div id="modal-body" class="p-6 overflow-y-auto bg-white">
        </div>
    </div>
  </div>

  <script>
    // --- GLOBAL STATE & DATA ---
    
    let currentPage = 'home';
    let carouselInterval;
    let heroCarouselInterval; // New interval for hero background
    let currentCarouselIndex = 0;
    let scrollAnimationObserver;
    let parallaxElements = [];
    
    // Data from HomePage.tsx
    const galleryImages = [
      'https://images.unsplash.com/photo-1741478551723-4b7ce95cf395?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3ZWlnaHRsaWZ0aW5nJTIwY29tcGV0aXRpb24lMjBhdGhsZXRlfGVufDF8fHx8MTc2MjMzNDIzN3ww&ixlib-rb-4.1.0&q=80&w=1080',
      'https://images.unsplash.com/photo-1558611848-73f7eb4001a1?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3ZWlnaHRsaWZ0aW5nJTIwdHJhaW5pbmclMjBneW18ZW58MXx8fHwxNzYyMzM0MjM4fDA&ixlib-rb-4.1.0&q=80&w=1080',
      'https://images.unsplash.com/photo-1741478551786-734ddc960779?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxvbHltcGljJTIwd2VpZ2h0bGlmdGluZyUyMGJhcmJlbGx8ZW58MXx8fHwxNzYyMzM0MjM4fDA&ixlib-rb-4.1.0&q=80&w=1080',
      'https://images.unsplash.com/photo-1682530679402-77e1ba921f12?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwb3dlcmxpZnRpbmclMjBjb21wZXRpdGlvbnxlbnwxfHx8fDE3NjIzMzQyMzl8MA&ixlib-rb-4.1.0&q=80&w=1080',
      'https://images.unsplash.com/photo-1647456757917-ea444a2b703b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3ZWlnaHRsaWZ0aW5nJTIwYXRobGV0ZSUyMHN0cm9uZ3xlbnwxfHx8fDE3NjIzMzQyMzl8MA&ixlib-rb-4.1.0&q=80&w=1080',
      'https://images.unsplash.com/photo-1548544155-4d3802f93013?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxneW0lMjB3ZWlnaHRzJTIwdHJhaW5pbmd8ZW58MXx8fHwxNzYyMjg1MzcyfDA&ixlib-rb-4.1.0&q=80&w=1080',
      'https://images.unsplash.com/photo-1720784713799-1e95cfeb81a9?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjcm9zc2ZpdCUyMGJhcmJlbGwlMjBsaWZ0fGVufDF8fHx8MTc2MjMzNDI0MHww&ixlib-rb-4.1.0&q=80&w=1080',
    ];
    const leadershipProfiles = [
      {
        name: 'Mr. Rajesh Kumar',
        position: 'President',
        quote: 'Strength is not just about lifting weights, it\'s about lifting each other and building a community of champions.',
        imageUrl: 'https://images.unsplash.com/photo-1629507208649-70919ca33793?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwcm9mZXNzaW9uYWwlMjBidXNpbmVzc21hbiUyMHBvcnRyYWl0fGVufDF8fHx8MTc2MjI0NzMwOXww&ixlib-rb-4.1.0&q=80&w=1080',
      },
      {
        name: 'Ms. Priya Menon',
        position: 'Vice President',
        quote: 'Our mission is to empower athletes and create opportunities for every individual to reach their peak potential.',
        imageUrl: 'https://images.unsplash.com/photo-1581065178026-390bc4e78dad?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwcm9mZXNzaW9uYWwlMjB3b21hbiUyMHBvcnRyYWl0fGVufDF8fHx8MTc2MjI2NjkyMnww&ixlib-rb-4.1.0&q=80&w=1080',
      },
      {
        name: 'Mr. Arun Nair',
        position: 'General Secretary',
        quote: 'Excellence in weightlifting comes from dedication, discipline, and the unwavering support of our community.',
        imageUrl: 'https://images.unsplash.com/photo-1672685667592-0392f458f46f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwcm9mZXNzaW9uYWwlMjBtYW4lMjBwb3J0cmFpdHxlbnwxfHx8fDE3NjIyNjE3MTh8MA&ixlib-rb-4.1.0&q=80&w=1080',
      },
    ];

    // Data from AboutPage.tsx
    const milestones = [
      { year: '1975', title: 'Foundation Year', description: 'Kerala Weightlifting Association was officially established to promote and develop weightlifting across the state.' },
      { year: '1982', title: 'First State Championship', description: 'Organized the inaugural Kerala State Weightlifting Championship with participants from all 14 districts.' },
      { year: '1995', title: 'National Recognition', description: 'Kerala athletes won multiple medals at the National Weightlifting Championship, putting the state on the map.' },
      { year: '2008', title: 'Olympic Representation', description: 'First Kerala weightlifter represented India at the Olympic Games, marking a historic achievement.' },
      { year: '2015', title: 'Training Center Expansion', description: 'Established state-of-the-art training facilities in multiple districts to nurture young talent.' },
      { year: '2023', title: 'International Success', description: 'Kerala athletes won gold medals at Commonwealth and Asian Championships, achieving international acclaim.' },
    ];

    // Data for Organizational Structure (From Manoj's file)
    const executiveCommitteeData = [
      { desig: "President", name: "ALUKKA JOSE VARGHESE", contact: "PH-9847000915" },
      { desig: "Hony. Secretary", name: "CHITHRA CHANDRAMOHAN", contact: "PH-9447472293" },
      { desig: "Treasurer", name: "VENUG NAIR", contact: "PH-9447472293" },
      { desig: "Vice President(1)", name: "D CHANDRABABU", contact: "PH-94478 3905" },
      { desig: "Vice President(2)", name: "SIMI JOSEPH", contact: "PH-9744241995" },
      { desig: "Joint Secretary(1)", name: "LISHANTH A M", contact: "PH-9388702279" },
      { desig: "Joint Secretary(2)", name: "ANJANA SREEJITH", contact: "PH-6238452810" },
      { desig: "Executive Member(1)", name: "RAGHUNATH P", contact: "PH-9846441717" },
      { desig: "Executive Member(2)", name: "V S PREMACHANDRAN", contact: "PH-8547770458" },
      { desig: "Executive Member(3)", name: "PALLAM NARAYANAN", contact: "PH-9447037405" },
      { desig: "Executive Member(4)", name: "P C SARATH KUMAR", contact: "PH-9895402244" },
      { desig: "Executive Member(5)", name: "MANJU A B", contact: "PH-7306600635" },
      { desig: "Patron", name: "T.J. JAMES", contact: "PH-9447672655" },
      { desig: "Patron", name: "SASIDHARAN", contact: "PH-8086355245" },
      { desig: "Senior Vice President", name: "PRABHAKARAN R", contact: "PH-8547403726" }
    ];

    const technicalCommitteeData = [
      { committee: "Finance Committee", members: "Suraj M P (Chairman), Mujeeb Rahman, Hariprasad M" },
      { committee: "Selection Committee", members: "P A Jose (Chairman), Binu S L, Observer KSSC, President KSWA, Secretary KSWA" },
      { committee: "Olympic Association Nominees", members: "Alukka Jose Varghese, Chithrachandramohan" },
      { committee: "Ethics Committee", members: "Alukka Jose Varghese (Chairman), Chithrachandramohan, Chandrababu D" },
      { committee: "Technical Committee", members: "Harbin C Lonnappan (Chairman), Shaju K V, Siya A J, Vishnu S P, Aswin Menon, Ramshad A R, Yasir P K, Karthik M S" },
      { committee: "Disciplinary Committee", members: "Krishna Kumar (Chairman), Raju V N, Aghosh V K, Subeesh S Nair, Muneer T" },
      { committee: "Womens Internal Complaint", members: "Simi Joseph (Chairman), Manju A B, Anjana Sreejith, Nice Mol Thomas, Prathibha Kumari" }
    ];

    // Data from EventsPage.tsx
    const upcomingEvents = [
      { title: 'State Championship 2025', date: 'March 15-17, 2025', location: 'Thiruvananthapuram Sports Complex', time: '9:00 AM - 6:00 PM', participants: 'All Districts', description: 'Annual state-level championship featuring competitors from all 14 districts.' },
      { title: 'Junior Training Camp', date: 'April 5-12, 2025', location: 'Kochi Training Center', time: '6:00 AM - 12:00 PM', participants: 'Selected Athletes', description: 'Intensive training camp for junior athletes preparing for national competitions.' },
      { title: 'District Qualifiers - North Zone', date: 'May 8-9, 2025', location: 'Kozhikode Indoor Stadium', time: '10:00 AM - 5:00 PM', participants: 'Northern Districts', description: 'Qualification event for athletes from Kasaragod, Kannur, Kozhikode, and Wayanad.' },
    ];
    
    // Data from KeralaMap.tsx
    const districts = [
      { id: 'thiruvananthapuram', name: 'Thiruvananthapuram District Weightlifting Association', contactPerson: 'Mr. Suresh P.', contactNumber: '+91 90000 00001', email: 'tvm.wla@example.com' },
      { id: 'kollam', name: 'Kollam District Weightlifting Association', contactPerson: 'Ms. Lakshmi R.', contactNumber: '+91 90000 00002', email: 'kollam.wla@example.com' },
      { id: 'pathanamthitta', name: 'Pathanamthitta District Weightlifting Association', contactPerson: 'Mr. Rajesh K.', contactNumber: '+91 90000 00003', email: 'pthm.wla@example.com' },
      { id: 'alappuzha', name: 'Alappuzha District Weightlifting Association', contactPerson: 'Mr. Vineeth S.', contactNumber: '+91 90000 00004', email: 'alpy.wla@example.com' },
      { id: 'kottayam', name: 'Kottayam District Weightlifting Association', contactPerson: 'Ms. Priya M.', contactNumber: '+91 90000 00005', email: 'ktym.wla@example.com' },
      { id: 'idukki', name: 'Idukki District Weightlifting Association', contactPerson: 'Mr. Thomas J.', contactNumber: '+91 90000 00006', email: 'idkk.wla@example.com' },
      { id: 'ernakulam', name: 'Ernakulam District Weightlifting Association', contactPerson: 'Mr. Anil Kumar', contactNumber: '+91 90000 00007', email: 'ekm.wla@example.com' },
      { id: 'thrissur', name: 'Thrissur District Weightlifting Association', contactPerson: 'Ms. Deepa N.', contactNumber: '+91 90000 00008', email: 'tcr.wla@example.com' },
      { id: 'palakkad', name: 'Palakkad District Weightlifting Association', contactPerson: 'Mr. Krishnan V.', contactNumber: '+91 90000 00009', email: 'pkd.wla@example.com' },
      { id: 'malappuram', name: 'Malappuram District Weightlifting Association', contactPerson: 'Mr. Abdul Rasheed', contactNumber: '+91 90000 00010', email: 'mlpm.wla@example.com' },
      { id: 'kozhikode', name: 'Kozhikode District Weightlifting Association', contactPerson: 'Ms. Sarita B.', contactNumber: '+91 90000 00011', email: 'kkd.wla@example.com' },
      { id: 'wayanad', name: 'Wayanad District Weightlifting Association', contactPerson: 'Mr. Ravi P.', contactNumber: '+91 90000 00012', email: 'wyd.wla@example.com' },
      { id: 'kannur', name: 'Kannur District Weightlifting Association', contactPerson: 'Mr. Mohan Das', contactNumber: '+91 90000 00013', email: 'knr.wla@example.com' },
      { id: 'kasaragod', name: 'Kasaragod District Weightlifting Association', contactPerson: 'Ms. Reshma T.', contactNumber: '+91 90000 00014', email: 'ksd.wla@example.com' },
    ];

    // Data for Results Page (From Manoj's File)
    const athletes = [
      { name: "Arjun K", event: "Gold - National Senior 2024", img: "https://images.unsplash.com/photo-1517836357463-d25dfeac3438?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=400" },
      { name: "Sneha R", event: "Silver - Federation Cup", img: "https://images.unsplash.com/photo-1574680178050-55c6a6a96e0a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=400" },
      { name: "Vishnu P", event: "Gold - Youth Nationals", img: "https://images.unsplash.com/photo-1534367507873-d2d7e24c797f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=400" },
      { name: "Anjali M", event: "Bronze - Junior Nationals", img: "https://images.unsplash.com/photo-1583454110551-21f2fa2afe61?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=400" },
    ];
    
    // --- ANIMATION & INTERACTION FUNCTIONS ---
    
    function initializeAnimations() {
      setupScrollAnimations();
      setupParallaxEffects();
    }
    
    function setupScrollAnimations() {
      if ('IntersectionObserver' in window) {
        scrollAnimationObserver = new IntersectionObserver((entries) => {
          entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
              // Add a staggered delay based on the element's 'stagger' class
              const delay = (parseInt(entry.target.dataset.stagger) || 0) * 100;
              setTimeout(() => {
                entry.target.classList.add('is-visible');
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
              }, delay);
              scrollAnimationObserver.unobserve(entry.target);
            }
          });
        }, {
          threshold: 0.1,
          rootMargin: '0px 0px -50px 0px'
        });
        
        document.querySelectorAll('.animate-on-scroll').forEach(el => {
          el.style.opacity = '0';
          el.style.transform = 'translateY(20px)';
          el.style.transition = 'opacity 0.6s ease-out, transform 0.6s ease-out';
          scrollAnimationObserver.observe(el);
        });
      }
    }
    
    function setupParallaxEffects() {
      parallaxElements = Array.from(document.querySelectorAll('[data-parallax="true"]'));
      window.addEventListener('scroll', () => {
        const scrolled = window.pageYOffset;
        parallaxElements.forEach(element => {
          const speed = element.dataset.parallaxSpeed || 0.3;
          const yPos = -(scrolled * speed);
          element.style.transform = `translate3d(0, ${yPos}px, 0)`;
        });
      });
    }
    
    function showToast(message, type = 'info') {
      const toast = document.createElement('div');
      let bgColor = 'bg-blue-500';
      if (type === 'success') bgColor = 'bg-green-500';
      if (type === 'error') bgColor = 'bg-red-500';
      
      toast.className = `fixed top-20 right-4 z-[9999] p-4 rounded-lg shadow-lg ${bgColor} text-white transition-all duration-300 transform translate-x-full`;
      toast.textContent = message;
      
      document.body.appendChild(toast);
      
      // Animate in
      setTimeout(() => {
        toast.style.transform = 'translateX(0)';
      }, 100);
      
      // Animate out
      setTimeout(() => {
        toast.style.transform = 'translateX(120%)';
        setTimeout(() => toast.remove(), 300);
      }, 3000);
    }

    // --- MODAL FUNCTIONS (From Manoj's logic) ---
    function openModal(type) {
      const modal = document.getElementById('info-modal');
      const title = document.getElementById('modal-title');
      const body = document.getElementById('modal-body');
      
      if (type === 'executive') {
        title.textContent = 'Executive Committee';
        let rows = executiveCommitteeData.map((item, idx) => `
          <tr class="border-b hover:bg-gray-50 transition-colors">
            <td class="py-4 px-4 text-sm font-medium text-gray-500">${idx + 1}</td>
            <td class="py-4 px-4 text-sm text-gray-700 font-semibold">${item.desig}</td>
            <td class="py-4 px-4 text-sm font-bold text-gray-900 uppercase">${item.name}</td>
            <td class="py-4 px-4 text-sm text-[#B20710] font-medium text-nowrap">${item.contact}</td>
          </tr>
        `).join('');
        body.innerHTML = `
          <div class="overflow-x-auto rounded-lg border border-gray-200">
            <table class="min-w-full text-left border-collapse bg-white">
              <thead>
                <tr class="bg-gray-100 border-b border-gray-200">
                  <th class="py-3 px-4 font-bold text-gray-600 text-xs uppercase tracking-wider">S.No</th>
                  <th class="py-3 px-4 font-bold text-gray-600 text-xs uppercase tracking-wider">Designation</th>
                  <th class="py-3 px-4 font-bold text-gray-600 text-xs uppercase tracking-wider">Name</th>
                  <th class="py-3 px-4 font-bold text-gray-600 text-xs uppercase tracking-wider">Contact</th>
                </tr>
              </thead>
              <tbody>${rows}</tbody>
            </table>
          </div>
        `;
      } else if (type === 'technical') {
        title.textContent = 'Technical & Sub-Committees';
        let rows = technicalCommitteeData.map((item) => `
          <div class="mb-4 bg-white p-5 rounded-lg border-l-4 border-[#B20710] shadow-sm hover:shadow-md transition-shadow">
            <h4 class="font-bold text-gray-800 text-lg mb-2 flex items-center gap-2 uppercase font-oswald">
              ${item.committee}
            </h4>
            <p class="text-gray-600 text-sm leading-relaxed">${item.members}</p>
          </div>
        `).join('');
        body.innerHTML = `<div class="bg-gray-50 p-4 rounded-lg">${rows}</div>`;
      }
      
      modal.classList.remove('hidden');
      // Trigger reflow
      void modal.offsetWidth;
      modal.classList.add('active');
    }

    function closeModal() {
      const modal = document.getElementById('info-modal');
      modal.classList.remove('active');
      setTimeout(() => {
        modal.classList.add('hidden');
      }, 300); 
    }

    // --- COMPONENT FUNCTIONS (Return HTML Strings) ---

    function Navigation(activePage) {
      const navItems = [
        { id: 'home', label: 'Home' },
        { id: 'about', label: 'About & History' },
        { id: 'events', label: 'Events' },
        { id: 'results', label: 'Results' },
        { id: 'contact', label: 'Contact' },
      ];
      
      return `
        <nav class="fixed top-0 left-0 right-0 z-50 bg-[#333333] shadow-lg">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
              <button onclick="handleNavigate('home')" class="flex items-center gap-2 sm:gap-3 hover:opacity-80 transition-opacity">
                <img src="image1.jpeg" alt="Logo" class="w-8 h-8 rounded-full" />
                <span class="text-white text-sm sm:text-base lg:text-lg">
                  Kerala Weightlifting Association
                </span>
              </button>

              <div class="hidden lg:flex items-center gap-1">
                ${navItems.map(item => `
                  <button
                    onclick="handleNavigate('${item.id}')"
                    class="nav-link px-4 py-2 rounded transition-all duration-300 transform hover:scale-105 ${
                      activePage === item.id
                        ? 'bg-[#B20710] text-white shadow-lg animate-glow'
                        : 'text-white hover:bg-[#444444] hover:shadow-md'
                    }"
                  >
                    ${item.label}
                  </button>
                `).join('')}
              </div>

              <button id="mobile-menu-button" class="lg:hidden text-white p-2 hover:bg-[#444444] rounded transition-all duration-300 transform hover:scale-110" aria-label="Toggle menu">
                <i data-lucide="menu" class="w-6 h-6"></i>
              </button>
            </div>

            <div id="mobile-menu" class="hidden lg:hidden pb-4 space-y-2 animate-slide-in-from-top">
              ${navItems.map(item => `
                <button
                  onclick="handleNavigate('${item.id}')"
                  class="nav-link block w-full text-left px-4 py-3 rounded transition-all duration-300 transform hover:scale-105 ${
                    activePage === item.id
                      ? 'bg-[#B20710] text-white shadow-lg animate-glow'
                      : 'text-white hover:bg-[#444444] hover:shadow-md'
                  }"
                >
                  ${item.label}
                </button>
              `).join('')}
            </div>
          </div>
        </nav>
      `;
    }

    // UPDATED FOOTER FROM MANOJ.HTML with CUSTOM LINKS
    function Footer() {
      return `
        <footer class="bg-white pt-12 pb-8 border-t border-gray-200 animate-on-scroll" data-stagger="1">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-12 gap-8 lg:gap-12">
              
              <div class="md:col-span-4 space-y-4">
                <img src="image1.jpeg" alt="KWA Logo" class="w-20 h-20 rounded-full border border-gray-200 shadow-sm">
                <h3 class="text-xl font-bold text-[#1a1a1a] font-oswald uppercase leading-tight">
                  Kerala State Weightlifting Association
                </h3>
              </div>

              <div class="md:col-span-4">
                <h4 class="text-sm font-bold text-[#1a1a1a] uppercase mb-4 font-oswald tracking-wider">Quick Links</h4>
                <ul class="space-y-2.5 text-sm text-gray-600">
                  <li><a href="https://yas.gov.in/" target="_blank" class="hover:text-[#B20710] transition-colors">Ministry of Youth Affairs & Sports</a></li>
                  <li><a href="https://sportsauthorityofindia.nic.in/" target="_blank" class="hover:text-[#B20710] transition-colors">Sports Authority of India</a></li>
                  <li><a href="https://nadaindia.yas.gov.in/" target="_blank" class="hover:text-[#B20710] transition-colors">National Anti-Doping Agency</a></li>
                  <li><a href="https://iwf.sport/" target="_blank" class="hover:text-[#B20710] transition-colors">International Weightlifting Federation</a></li>
                  <li><a href="https://awf.sport/" target="_blank" class="hover:text-[#B20710] transition-colors">Asian Weightlifting Federation</a></li>
                  <li><a href="https://iwf.sport/results/results-by-events/" target="_blank" class="hover:text-[#B20710] transition-colors">International Result</a></li>
                  <li><a href="https://thecgf.com/" target="_blank" class="hover:text-[#B20710] transition-colors">Commonwealth Weightlifting Federation</a></li>
                </ul>
              </div>

              <div class="md:col-span-4">
                <h4 class="text-sm font-bold text-[#1a1a1a] uppercase mb-4 font-oswald tracking-wider">Let's Connect</h4>
                <ul class="space-y-3 text-sm text-gray-600">
                  <li class="flex items-center gap-2">
                    <i data-lucide="phone" class="w-4 h-4 text-[#B20710]"></i>
                    <a href="tel:+914712345678" class="hover:text-[#B20710]">+91 471 234 5678</a>
                  </li>
                  <li class="flex items-center gap-2">
                    <i data-lucide="mail" class="w-4 h-4 text-[#B20710]"></i>
                    <a href="mailto:info@keralawla.org" class="hover:text-[#B20710]">info@keralawla.org</a>
                  </li>
                  <li class="flex items-start gap-2">
                    <i data-lucide="map-pin" class="w-4 h-4 text-[#B20710] mt-1 flex-shrink-0"></i>
                    <span>Sports Complex, Near Stadium,<br>Thiruvananthapuram, Kerala<br>695001</span>
                  </li>
                  <li class="flex items-center gap-2 mt-4 pt-4 border-t border-gray-100">
                    <i data-lucide="linkedin" class="w-4 h-4 text-[#0077b5]"></i>
                    <a href="https://www.linkedin.com/company/106403202/admin/dashboard/" target="_blank" class="text-gray-700 hover:text-[#B20710] font-medium">Developer</a>
                  </li>
                </ul>
              </div>

            </div>

            <div class="border-t border-gray-200 mt-12 pt-8 flex flex-col sm:flex-row justify-between items-center gap-4">
              <p class="text-sm text-gray-500">Â© 2025 Kerala Weightlifting Association. All rights reserved.</p>
              <div class="flex gap-5">
                 <a href="#" class="text-[#B20710] hover:opacity-80"><i data-lucide="facebook" class="w-5 h-5"></i></a>
                 <a href="#" class="text-[#B20710] hover:opacity-80"><i data-lucide="twitter" class="w-5 h-5"></i></a>
                 <a href="#" class="text-[#B20710] hover:opacity-80"><i data-lucide="instagram" class="w-5 h-5"></i></a>
                 <a href="#" class="text-[#B20710] hover:opacity-80"><i data-lucide="linkedin" class="w-5 h-5"></i></a>
              </div>
            </div>
          </div>
        </footer>
      `;
    }

    function LeadershipProfile(profile, index) {
      return `
        <div class="max-w-3xl mx-auto mb-8 sm:mb-12 px-4 animate-on-scroll" data-stagger="${index + 1}">
          <div class="flex flex-col items-center text-center">
            <div class="w-32 h-32 sm:w-40 sm:h-40 lg:w-48 lg:h-48 rounded-full overflow-hidden mb-4 sm:mb-6 border-4 border-[#B20710] shadow-lg hover-lift">
              <img src="${profile.imageUrl}" alt="${profile.name}" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300" />
            </div>
            <h3 class="text-[#333333] mb-2 text-lg sm:text-xl lg:text-2xl">${profile.name}</h3>
            <p class="text-[#6F4E37] mb-4 sm:mb-6 text-sm sm:text-base">${profile.position}</p>
            <div class="relative bg-white rounded-lg p-4 sm:p-6 shadow-md border-l-4 border-[#B20710] w-full hover-lift">
              <i data-lucide="quote" class="absolute top-3 left-3 sm:top-4 sm:left-4 w-6 h-6 sm:w-8 sm:h-8 text-[#B20710] opacity-20"></i>
              <p class="italic text-[#333333] pl-6 sm:pl-8 text-sm sm:text-base">"${profile.quote}"</p>
            </div>
          </div>
        </div>
      `;
    }

    function ImageCarousel(images) {
      return `
        <div class="relative w-full max-w-4xl mx-auto px-4 animate-on-scroll" data-stagger="3">
          <div class="relative aspect-[16/9] overflow-hidden rounded-lg shadow-xl bg-gray-200">
            <img
              id="carousel-image"
              src="${images[0]}"
              alt="Gallery image 1"
              class="w-full h-full object-cover transition-all duration-500 ease-in-out"
              style="transition-property: opacity, transform; opacity: 1; transform: scale(1);"
            />
            <button id="carousel-prev" class="absolute left-2 sm:left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-[#B20710] text-white p-2 sm:p-3 rounded-full transition-all hover:scale-110 hover-lift" aria-label="Previous image">
              <i data-lucide="chevron-left" class="w-5 h-5 sm:w-6 sm:h-6"></i>
            </button>
            <button id="carousel-next" class="absolute right-2 sm:right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-[#B20710] text-white p-2 sm:p-3 rounded-full transition-all hover:scale-110 hover-lift" aria-label="Next image">
              <i data-lucide="chevron-right" class="w-5 h-5 sm:w-6 sm:h-6"></i>
            </button>
            <div id="carousel-counter" class="absolute bottom-2 left-2 bg-black/50 text-white px-2 py-1 rounded text-xs sm:text-sm">
              1 / ${images.length}
            </div>
          </div>
          <div id="carousel-dots" class="flex justify-center gap-1.5 sm:gap-2 mt-4 flex-wrap px-4">
            ${images.map((_, index) => `
              <button
                class="carousel-dot h-2 sm:h-3 rounded-full transition-all ${index === 0 ? 'bg-[#B20710] w-6 sm:w-8' : 'bg-gray-400 hover:bg-gray-600 w-2 sm:w-3'} hover-lift"
                data-index="${index}"
                aria-label="Go to image ${index + 1}"
              ></button>
            `).join('')}
          </div>
        </div>
      `;
    }
    
    // --- PAGE COMPONENTS ---

    function HomePage() {
      // Logic for background slideshow is handled by initHeroCarousel()
      return `
        <section class="relative h-[400px] sm:h-[500px] lg:h-[600px] overflow-hidden">
          <div id="hero-background-container" class="absolute inset-0 z-0">
             </div>
          <div class="absolute inset-0 bg-gradient-to-r from-black/80 to-black/40 flex items-center z-10">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-white w-full animate-on-scroll" data-stagger="0">
              <h1 class="text-white mb-4 text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-oswald uppercase">
                Kerala Weightlifting Association
              </h1>
              <p class="max-w-2xl text-sm sm:text-base lg:text-lg">
                Building Strength, Inspiring Excellence, and Shaping Champions Across Kerala
              </p>
            </div>
          </div>
        </section>

        <section class="py-12 sm:py-16 px-4 sm:px-6 lg:px-8 bg-white">
          <div class="max-w-7xl mx-auto">
            <div class="text-center mb-8 sm:mb-12 animate-on-scroll" data-stagger="0">
              <h2 class="text-[#333333] mb-4 text-xl sm:text-2xl lg:text-3xl">Our Leadership</h2>
              <div class="w-20 h-1 bg-[#B20710] mx-auto"></div>
            </div>
            ${leadershipProfiles.map((profile, index) => LeadershipProfile(profile, index)).join('')}
          </div>
        </section>

        <section class="py-12 sm:py-16 px-4 sm:px-6 lg:px-8 bg-white animate-on-scroll" data-stagger="1">
          <div class="max-w-7xl mx-auto">
            <div class="text-center mb-8 sm:mb-12">
              <h2 class="text-[#333333] mb-4 text-xl sm:text-2xl lg:text-3xl">Upcoming Competitions</h2>
              <div class="w-20 h-1 bg-[#B20710] mx-auto"></div>
            </div>

            <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-4 sm:p-6 lg:p-8 border border-gray-200 hover-lift">
              <div class="flex items-center gap-3 mb-6">
                <i data-lucide="calendar" class="w-6 h-6 sm:w-8 sm:h-8 text-[#B20710] flex-shrink-0"></i>
                <h3 class="text-[#333333] text-lg sm:text-xl">Event Calendar</h3>
              </div>

              <div class="calendar-embed rounded-md overflow-hidden border border-gray-200">
                <iframe
                  src="https://calendar.google.com/calendar/embed?src=sankargeethamritham%40gmail.com&ctz=Asia/Kolkata"
                  class="w-full h-full"
                  frameborder="0"
                  scrolling="no"
                  loading="lazy"
                  title="Google Calendar - KWA"
                ></iframe>
              </div>

              <p class="text-xs sm:text-sm text-gray-500 mt-3 text-center">
                Updates made on Google Calendar will appear here automatically.
              </p>
            </div>
          </div>
        </section>

        <section 
          class="py-20 sm:py-24 px-4 sm:px-6 lg:px-8 relative animate-on-scroll bg-cover bg-center" 
          style="background-image: url('image2.png');"
          data-stagger="1"
        >
          <div class="absolute inset-0 bg-black/70 z-0"></div>
          
          <div class="max-w-3xl mx-auto text-center relative z-10">
            <div class="animate-on-scroll" data-stagger="1">
              <h2 class="text-white mb-4 text-2xl sm:text-3xl lg:text-4xl uppercase" style="font-family: 'Oswald', sans-serif; letter-spacing: 0.05em;">
                Athlete Registration
              </h2>
              <p class="text-gray-200 text-lg sm:text-xl lg:text-2xl mb-8 max-w-xl mx-auto font-light">
                Join the official registry to compete in state and national events.
              </p>
              
              <a
                href="https://iwlf.in/online-athlete-registration/"
                target="_blank"
                rel="noopener noreferrer"
                class="inline-flex items-center gap-2 bg-transparent border-2 border-white text-white uppercase font-medium px-10 py-3 transition-all duration-300 transform hover:scale-105 hover:bg-white hover:text-black"
                style="font-family: 'Oswald', sans-serif; letter-spacing: 0.05em;"
              >
                <span>Register Now</span>
              </a>
            </div>
          </div>
        </section>
        <section class="py-12 sm:py-16 px-4 sm:px-6 lg:px-8 bg-[#F8F8F8]">
          <div class="max-w-7xl mx-auto">
            <div class="text-center mb-8 sm:mb-12 animate-on-scroll" data-stagger="2">
              <h2 class="text-[#333333] mb-4 text-xl sm:text-2xl lg:text-3xl">Recent Moments in Action</h2>
              <div class="w-20 h-1 bg-[#B20710] mx-auto"></div>
            </div>
            ${ImageCarousel(galleryImages)}
          </div>
        </section>
      `;
    }

    function AboutPage() {
      // Replaced the static Organizational Structure with Manoj's Grid + Modals
      return `
        <div class="min-h-screen py-12 sm:py-16 px-4 sm:px-6 lg:px-8">
          <div class="max-w-7xl mx-auto">
            <div class="text-center mb-12 sm:mb-16 animate-on-scroll" data-stagger="0">
              <h1 class="text-[#333333] mb-4 text-2xl sm:text-3xl lg:text-4xl">
                About the Kerala Weightlifting Association
              </h1>
              <div class="w-20 h-1 bg-[#B20710] mx-auto mb-6 sm:mb-8"></div>
              <p class="max-w-3xl mx-auto text-[#333333] text-sm sm:text-base px-4">
                For nearly five decades, the Kerala Weightlifting Association has been at the forefront of 
                developing world-class weightlifting talent, fostering sportsmanship, and building a community 
                dedicated to excellence in strength sports.
              </p>
            </div>

            <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8 mb-12 sm:mb-16">
              <div class="bg-white p-5 sm:p-6 rounded-lg shadow-md text-center hover-lift animate-on-scroll" data-stagger="1">
                <div class="w-14 h-14 sm:w-16 sm:h-16 bg-[#B20710] rounded-full flex items-center justify-center mx-auto mb-4">
                  <i data-lucide="trophy" class="w-7 h-7 sm:w-8 sm:h-8 text-white"></i>
                </div>
                <h3 class="text-[#333333] mb-2 text-base sm:text-lg">Excellence</h3>
                <p class="text-xs sm:text-sm text-gray-600">Striving for the highest standards in training, competition, and athlete development.</p>
              </div>
              <div class="bg-white p-5 sm:p-6 rounded-lg shadow-md text-center hover-lift animate-on-scroll" data-stagger="2">
                <div class="w-14 h-14 sm:w-16 sm:h-16 bg-[#B20710] rounded-full flex items-center justify-center mx-auto mb-4">
                  <i data-lucide="users" class="w-7 h-7 sm:w-8 sm:h-8 text-white"></i>
                </div>
                <h3 class="text-[#333333] mb-2 text-base sm:text-lg">Community</h3>
                <p class="text-xs sm:text-sm text-gray-600">Building a supportive network of athletes, coaches, and enthusiasts across Kerala.</p>
              </div>
              <div class="bg-white p-5 sm:p-6 rounded-lg shadow-md text-center hover-lift animate-on-scroll" data-stagger="3">
                <div class="w-14 h-14 sm:w-16 sm:h-16 bg-[#B20710] rounded-full flex items-center justify-center mx-auto mb-4">
                  <i data-lucide="target" class="w-7 h-7 sm:w-8 sm:h-8 text-white"></i>
                </div>
                <h3 class="text-[#333333] mb-2 text-base sm:text-lg">Development</h3>
                <p class="text-xs sm:text-sm text-gray-600">Nurturing grassroots talent and providing pathways to national and international success.</p>
              </div>
              <div class="bg-white p-5 sm:p-6 rounded-lg shadow-md text-center hover-lift animate-on-scroll" data-stagger="4">
                <div class="w-14 h-14 sm:w-16 sm:h-16 bg-[#B20710] rounded-full flex items-center justify-center mx-auto mb-4">
                  <i data-lucide="award" class="w-7 h-7 sm:w-8 sm:h-8 text-white"></i>
                </div>
                <h3 class="text-[#333333] mb-2 text-base sm:text-lg">Integrity</h3>
                <p class="text-xs sm:text-sm text-gray-600">Upholding the highest ethical standards and promoting fair play in all our endeavors.</p>
              </div>
            </div>

            <div class="mb-12 sm:mb-16">
              <h2 class="text-center text-[#333333] mb-8 sm:mb-12 text-xl sm:text-2xl lg:text-3xl animate-on-scroll" data-stagger="1">
                Our Journey Through the Years
              </h2>
              <div class="space-y-6 sm:space-y-8">
                ${milestones.map((milestone, index) => `
                  <div class="flex gap-3 sm:gap-6 items-start animate-on-scroll" data-stagger="${index + 1}">
                    <div class="flex-shrink-0 w-16 sm:w-24 text-right">
                      <span class="text-[#B20710] text-sm sm:text-base">${milestone.year}</span>
                    </div>
                    <div class="flex-shrink-0 relative">
                      <div class="w-3 h-3 sm:w-4 sm:h-4 bg-[#B20710] rounded-full"></div>
                      ${index < milestones.length - 1 ? `<div class="absolute left-1/2 top-3 sm:top-4 w-0.5 h-full bg-[#6F4E37] opacity-30 -translate-x-1/2"></div>` : ''}
                    </div>
                    <div class="flex-grow bg-white p-4 sm:p-6 rounded-lg shadow-md hover-lift">
                      <h3 class="text-[#333333] mb-2 text-base sm:text-lg">${milestone.title}</h3>
                      <p class="text-gray-600 text-sm sm:text-base">${milestone.description}</p>
                    </div>
                  </div>
                `).join('')}
              </div>
            </div>

            <div class="bg-white p-8 rounded-lg shadow-md animate-on-scroll" data-stagger="2">
              <h2 class="text-[#333333] mb-6 flex items-center gap-2 text-xl sm:text-2xl lg:text-3xl"><i data-lucide="users" class="text-[#B20710]"></i> Organizational Structure</h2>
              <p class="text-gray-600 mb-6">
                Click on the sections below to view detailed committee information.
              </p>
              <div class="grid md:grid-cols-3 gap-6">
                <div onclick="openModal('executive')" class="border-l-4 border-[#B20710] pl-6 py-6 bg-white shadow-sm cursor-pointer hover:bg-gray-50 hover:shadow-md transition-all group rounded-r-lg border-y border-r border-gray-100">
                  <h4 class="text-[#333333] text-lg font-bold mb-2 group-hover:text-[#B20710] flex items-center justify-between font-oswald">
                    Executive Committee <i data-lucide="chevron-right" class="w-5 h-5 text-[#B20710]"></i>
                  </h4>
                  <p class="text-sm text-gray-600">Elected body responsible for policy decisions and strategic direction.</p>
                </div>

                <div class="border-l-4 border-gray-300 pl-6 py-6 bg-gray-50 cursor-default opacity-70 rounded-r-lg border-y border-r border-gray-100">
                  <h4 class="text-gray-500 text-lg font-bold mb-2 font-oswald">District Associations</h4>
                  <p class="text-sm text-gray-500">14 district-level associations details coming soon.</p>
                </div>

                <div onclick="openModal('technical')" class="border-l-4 border-[#B20710] pl-6 py-6 bg-white shadow-sm cursor-pointer hover:bg-gray-50 hover:shadow-md transition-all group rounded-r-lg border-y border-r border-gray-100">
                  <h4 class="text-[#333333] text-lg font-bold mb-2 group-hover:text-[#B20710] flex items-center justify-between font-oswald">
                    Technical Committee <i data-lucide="chevron-right" class="w-5 h-5 text-[#B20710]"></i>
                  </h4>
                  <p class="text-sm text-gray-600">Includes Finance, Ethics, Selection, and Disciplinary sub-committees.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function EventsPage() {
      return `
        <div class="min-h-screen py-12 sm:py-16 px-4 sm:px-6 lg:px-8">
          <div class="max-w-7xl mx-auto">
            <div class="text-center mb-12 animate-on-scroll" data-stagger="0">
              <h1 class="text-[#333333] mb-4 text-2xl sm:text-3xl lg:text-4xl">Events & Competitions</h1>
              <div class="w-20 h-1 bg-[#B20710] mx-auto mb-6"></div>
              <p class="max-w-3xl mx-auto text-[#333333] text-sm sm:text-base px-4">
                Stay updated with all upcoming weightlifting events, competitions, and training programs 
                organized by the Kerala Weightlifting Association.
              </p>
            </div>

            <div class="mb-12">
              <h2 class="text-[#333333] mb-6 text-xl sm:text-2xl animate-on-scroll" data-stagger="1">Featured Upcoming Events</h2>
              <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6">
                ${upcomingEvents.map((event, index) => `
                  <div class="bg-white rounded-lg shadow-md overflow-hidden hover-lift animate-on-scroll" data-stagger="${index + 1}">
                    <div class="bg-[#B20710] p-3 sm:p-4">
                      <h3 class="text-white text-base sm:text-lg">${event.title}</h3>
                    </div>
                    <div class="p-4 sm:p-6 space-y-2 sm:space-y-3">
                      <div class="flex items-center gap-3 text-gray-600"><i data-lucide="calendar" class="w-4 h-4 sm:w-5 sm:h-5 text-[#B20710] flex-shrink-0"></i><span class="text-xs sm:text-sm">${event.date}</span></div>
                      <div class="flex items-center gap-3 text-gray-600"><i data-lucide="map-pin" class="w-4 h-4 sm:w-5 sm:h-5 text-[#B20710] flex-shrink-0"></i><span class="text-xs sm:text-sm">${event.location}</span></div>
                      <div class="flex items-center gap-3 text-gray-600"><i data-lucide="clock" class="w-4 h-4 sm:w-5 sm:h-5 text-[#B20710] flex-shrink-0"></i><span class="text-xs sm:text-sm">${event.time}</span></div>
                      <div class="flex items-center gap-3 text-gray-600"><i data-lucide="users" class="w-4 h-4 sm:w-5 sm:h-5 text-[#B20710] flex-shrink-0"></i><span class="text-xs sm:text-sm">${event.participants}</span></div>
                      <p class="text-xs sm:text-sm text-gray-600 pt-2 border-t">${event.description}</p>
                    </div>
                  </div>
                `).join('')}
              </div>
            </div>

            <div class="bg-white rounded-lg shadow-lg p-4 sm:p-6 lg:p-8 animate-on-scroll" data-stagger="2">
              <div class="flex items-center gap-3 mb-4 sm:mb-6">
                <i data-lucide="calendar" class="w-7 h-7 sm:w-8 sm:h-8 text-[#B20710]"></i>
                <h2 class="text-[#333333] text-lg sm:text-xl">Full Event Calendar</h2>
              </div>
              <div class="calendar-embed rounded-md overflow-hidden border border-gray-200">
                <iframe
                  src="https://calendar.google.com/calendar/embed?src=sankargeethamritham%40gmail.com&ctz=Asia/Kolkata"
                  class="w-full h-full"
                  frameborder="0"
                  scrolling="no"
                  loading="lazy"
                  title="Google Calendar - KWA (Full)"
                ></iframe>
              </div>
              <p class="text-xs sm:text-sm text-gray-500 mt-3 text-center">
                Click events to view details or add to your own Google Calendar.
              </p>
            </div>
            
            <div class="mt-12 grid md:grid-cols-3 gap-6">
              <div class="bg-gradient-to-br from-[#B20710] to-[#8a0509] text-white p-6 rounded-lg shadow-md hover-lift animate-on-scroll" data-stagger="1"><h3 class="text-white mb-3">State Championships</h3><p class="text-sm opacity-90">Annual competitions...</p></div>
              <div class="bg-gradient-to-br from-[#6F4E37] to-[#5a3e2c] text-white p-6 rounded-lg shadow-md hover-lift animate-on-scroll" data-stagger="2"><h3 class="text-white mb-3">Training Camps</h3><p class="text-sm opacity-90">Intensive training programs...</p></div>
              <div class="bg-gradient-to-br from-[#FFC107] to-[#ffb300] text-white p-6 rounded-lg shadow-md hover-lift animate-on-scroll" data-stagger="3"><h3 class="text-white mb-3">District Events</h3><p class="text-sm opacity-90">Local competitions...</p></div>
            </div>
          </div>
        </div>
      `;
    }
    
    // UPDATED RESULTS PAGE FROM MANOJ.HTML
    function ResultsPage() {
      return `
        <div class="min-h-screen py-16 px-4 max-w-7xl mx-auto">
          <div class="text-center mb-12 animate-on-scroll">
            <h1 class="text-[#333333] text-4xl font-oswald mb-4">Results & Achievements</h1>
            <div class="w-20 h-1 bg-[#B20710] mx-auto mb-8"></div>
          </div>

          <div class="bg-white rounded-lg shadow-lg p-10 text-center mb-16 border border-gray-200 animate-on-scroll max-w-3xl mx-auto">
            <div class="inline-block p-4 bg-red-50 rounded-full mb-4"><i data-lucide="trophy" class="w-10 h-10 text-[#B20710]"></i></div>
            <h2 class="text-[#333333] text-2xl font-oswald mb-2">Official Results Archive</h2>
            <p class="text-gray-600 mb-8">Select a competition year/event to view or download the official awardees list.</p>
            
            <div class="max-w-md mx-auto relative group">
              <select 
                onchange="if(this.value) window.open(this.value, '_blank')"
                class="w-full appearance-none bg-white border-2 border-gray-300 text-gray-700 font-medium text-base rounded-lg focus:ring-[#B20710] focus:border-[#B20710] block p-4 pr-10 cursor-pointer shadow-sm hover:border-[#B20710] transition-colors outline-none"
              >
                <option value="" selected disabled>Select Event to View Awardees...</option>
                <option value="#">State Championship 2024 (PDF)</option>
                <option value="#">National Games 2023 (PDF)</option>
                <option value="#">District Meet 2023 (PDF)</option>
              </select>
              <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-500 group-hover:text-[#B20710]">
                <i data-lucide="chevron-down" class="w-6 h-6"></i>
              </div>
            </div>
          </div>

          <div class="animate-on-scroll">
            <div class="flex items-center gap-4 mb-8">
              <div class="h-8 w-2 bg-[#B20710]"></div>
              <h3 class="text-[#333333] text-3xl font-oswald uppercase">National Medal Winners</h3>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
              ${athletes.map(a => `
                <div class="group relative overflow-hidden rounded-xl shadow-lg cursor-pointer h-96">
                  <img src="${a.img}" alt="${a.name}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                  
                  <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent opacity-80 group-hover:opacity-90 transition-opacity"></div>
                  
                  <div class="absolute bottom-0 left-0 p-6 w-full transform translate-y-2 group-hover:translate-y-0 transition-transform duration-300">
                    <div class="w-12 h-1 bg-[#B20710] mb-3"></div>
                    <h4 class="text-white text-2xl font-bold font-oswald leading-tight mb-1">${a.name}</h4>
                    <p class="text-gray-300 text-sm font-medium uppercase tracking-wider">${a.event}</p>
                  </div>
                </div>
              `).join('')}
            </div>
          </div>
        </div>
      `;
    }

    function ContactPage() {
      return `
        <div class="min-h-screen py-16 px-4 sm:px-6 lg:px-8">
          <div class="max-w-7xl mx-auto">
            <div class="text-center mb-12 animate-on-scroll" data-stagger="0">
              <h1 class="text-[#333333] mb-4">Connect with Us</h1>
              <div class="w-20 h-1 bg-[#B20710] mx-auto mb-6"></div>
              <p class="max-w-3xl mx-auto text-[#333333]">Get in touch with the Kerala Weightlifting Association or find contact information for district associations across Kerala.</p>
            </div>

            <div class="mb-12 bg-white rounded-lg shadow-lg p-6 sm:p-8 animate-on-scroll" data-stagger="1">
              <h2 class="text-[#333333] mb-6 text-xl sm:text-2xl">Kerala Weightlifting Association</h2>
              <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="flex items-start gap-3"><i data-lucide="map-pin" class="w-5 h-5 sm:w-6 sm:h-6 text-[#B20710] flex-shrink-0 mt-1"></i><div><h3 class="text-[#333333] mb-2 text-base sm:text-lg">Head Office</h3><p class="text-xs sm:text-sm text-gray-600">Sports Complex, Near Stadium<br />Thiruvananthapuram, Kerala 695001<br />India</p></div></div>
                <div class="flex items-start gap-3"><i data-lucide="phone" class="w-5 h-5 sm:w-6 sm:h-6 text-[#B20710] flex-shrink-0 mt-1"></i><div><h3 class="text-[#333333] mb-2 text-base sm:text-lg">Phone</h3><p class="text-xs sm:text-sm text-gray-600">+91 471 234 5678<br />+91 471 234 5679<br />(Mon-Fri, 9:00 AM - 5:00 PM)</p></div></div>
                <div class="flex items-start gap-3"><i data-lucide="mail" class="w-5 h-5 sm:w-6 sm:h-6 text-[#B20710] flex-shrink-0 mt-1"></i><div><h3 class="text-[#333333] mb-2 text-base sm:text-lg">Email</h3><p class="text-xs sm:text-sm text-gray-600">info@keralawla.org<br />secretary@keralawla.org</p></div></div>
              </div>
            </div>

            <div class="mb-12 animate-on-scroll" data-stagger="2">
              <h2 class="text-[#333333] mb-6 text-xl sm:text-2xl">District Association Contacts</h2>
              <p class="text-gray-600 mb-8 text-sm sm:text-base">Click on any district on the map to view the contact information for that district's weightlifting association.</p>
              
              <section class="kerala-map-wrapper">
                <div id="kerala-map"></div>
                <aside class="kerala-sidebar">
                  <div class="kerala-sidebar-inner">
                    <h2 id="district-name">Click a district</h2>
                    <ul id="district-contact-info">
                      <li>
                        <div>
                          <strong>Contact Person:</strong>
                          <span id="info-person">â</span>
                        </div>
                      </li>
                      <li>
                        <div>
                          <strong>Phone:</strong>
                          <span id="info-phone">â</span>
                        </div>
                      </li>
                      <li>
                        <div>
                          <strong>Email:</strong>
                          <span id="info-email">â</span>
                        </div>
                      </li>
                    </ul>
                    <div class="hint">
                      Geometry: <a href="https://github.com/geohacker/kerala" class="text-[#B20710] hover:underline" target="_blank" rel="noopener">geohacker/kerala</a>
                    </div>
                  </div>
                </aside>
              </section>
            </div>

            <div class="bg-white rounded-lg shadow-lg p-8 animate-on-scroll" data-stagger="3">
              <div class="flex items-center gap-3 mb-6">
                <i data-lucide="send" class="w-8 h-8 text-[#B20710]"></i>
                <h2 class="text-[#333333]">Send Us a Message</h2>
              </div>
              
              <form id="contact-form" class="max-w-2xl">
                <div class="space-y-6">
                  <div class="transition-transform duration-300"><label for="name" class="block text-[#333333] mb-2">Name *</label><input type="text" id="name" name="name" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#B20710] bg-white" placeholder="Your full name" /></div>
                  <div class="transition-transform duration-300"><label for="email" class="block text-[#333333] mb-2">Email *</label><input type="email" id="email" name="email" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#B20710] bg-white" placeholder="your.email@example.com" /></div>
                  <div class="transition-transform duration-300"><label for="message" class="block text-[#333333] mb-2">Message *</label><textarea id="message" name="message" required rows="6" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#B20710] bg-white resize-none" placeholder="How can we help you?"></textarea></div>
                  <button type="submit" class="bg-[#B20710] text-white px-8 py-3 rounded-lg hover:bg-[#8a0509] transition-all duration-300 flex items-center gap-2 transform hover:scale-105">
                    <i data-lucide="send" class="w-5 h-5"></i>
                    <span>Send Message</span>
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      `;
    }

    
    // --- APP RENDER & CONTROL ---

    const appContainer = document.getElementById('app-container');

    function renderPage() {
      switch (currentPage) {
        case 'home': return HomePage();
        case 'about': return AboutPage();
        case 'events': return EventsPage();
        case 'results': return ResultsPage();
        case 'contact': return ContactPage();
        default: return HomePage();
      }
    }

    function renderApp() {
      if (carouselInterval) clearInterval(carouselInterval);
      if (heroCarouselInterval) clearInterval(heroCarouselInterval);
      if (scrollAnimationObserver) scrollAnimationObserver.disconnect();
      parallaxElements = [];

      appContainer.innerHTML = `
        <div id="loading-overlay" class="fixed inset-0 bg-white z-[9999] flex items-center justify-center transition-opacity duration-300">
          <div class="text-center">
            <img src="image1.jpeg" alt="Loading Logo" class="w-16 h-16 rounded-full animate-pulse mx-auto mb-4" />
            <p class="text-[#333333] text-lg font-medium loading-dots">Loading</p>
          </div>
        </div>
        ${Navigation(currentPage)}
        <main class="pt-16" id="main-content" style="opacity: 0; transition: opacity 0.5s ease-out;">
          </main>
      `;
      lucide.createIcons(); 

      setTimeout(() => {
        const mainContent = document.getElementById('main-content');
        
        mainContent.innerHTML = renderPage() + Footer();
        
        lucide.createIcons();
        attachAllListeners();
        initializeAnimations();
        
        mainContent.style.opacity = '1';
        
        const overlay = document.getElementById('loading-overlay');
        if (overlay) {
          overlay.style.opacity = '0';
          setTimeout(() => overlay.remove(), 300);
        }
      }, 300);
    }
    
    function handleNavigate(page) {
      if (currentPage === page) return; 
      currentPage = page;
      renderApp();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function toggleMobileMenu() {
      const menu = document.getElementById('mobile-menu');
      const icon = document.getElementById('mobile-menu-button').querySelector('i');
      if (menu.classList.contains('hidden')) {
        menu.classList.remove('hidden');
        icon.setAttribute('data-lucide', 'x');
      } else {
        menu.classList.add('hidden');
        icon.setAttribute('data-lucide', 'menu');
      }
      lucide.createIcons();
    }
    
    // --- EVENT LISTENER INITIALIZATION ---

    function attachAllListeners() {
      document.getElementById('mobile-menu-button').addEventListener('click', toggleMobileMenu);

      if (currentPage === 'home') {
        initCarousel();
        initHeroCarousel(); // Initialize Hero Background Carousel
      }
      if (currentPage === 'contact') {
        initContactForm();
        initKeralaMap();
      }
    }

    function initHeroCarousel() {
      const heroContainer = document.getElementById('hero-background-container');
      if (!heroContainer) return;
      
      // Clear container and add images with opacity 0
      heroContainer.innerHTML = '';
      
      galleryImages.forEach((src, idx) => {
        const img = document.createElement('img');
        img.src = src;
        img.className = `absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out ${idx === 0 ? 'opacity-100' : 'opacity-0'}`;
        img.dataset.index = idx;
        heroContainer.appendChild(img);
      });

      let currentHeroIndex = 0;
      heroCarouselInterval = setInterval(() => {
        const imgs = heroContainer.querySelectorAll('img');
        const nextIndex = (currentHeroIndex + 1) % imgs.length;
        
        imgs[currentHeroIndex].classList.remove('opacity-100');
        imgs[currentHeroIndex].classList.add('opacity-0');
        
        imgs[nextIndex].classList.remove('opacity-0');
        imgs[nextIndex].classList.add('opacity-100');
        
        currentHeroIndex = nextIndex;
      }, 4000); // Change every 4 seconds
    }

    function initCarousel() {
      currentCarouselIndex = 0;
      const imgEl = document.getElementById('carousel-image');
      const counterEl = document.getElementById('carousel-counter');
      const dots = document.querySelectorAll('.carousel-dot');
      if (!imgEl) return; 

      function showImage(index) {
        if (index >= galleryImages.length) index = 0;
        if (index < 0) index = galleryImages.length - 1;
        
        currentCarouselIndex = index;
        
        imgEl.style.opacity = '0.7';
        imgEl.style.transform = 'scale(1.05)';
        
        setTimeout(() => {
          imgEl.src = galleryImages[index];
          imgEl.alt = `Gallery image ${index + 1}`;
          counterEl.textContent = `${index + 1} / ${galleryImages.length}`;
          imgEl.style.opacity = '1';
          imgEl.style.transform = 'scale(1)';
        }, 300);
        
        dots.forEach((dot, i) => {
          const isActive = i === index;
          dot.classList.toggle('bg-[#B20710]', isActive);
          dot.classList.toggle('w-6', isActive);
          dot.classList.toggle('sm:w-8', isActive);
          dot.classList.toggle('bg-gray-400', !isActive);
          dot.classList.toggle('hover:bg-gray-600', !isActive);
          dot.classList.toggle('w-2', !isActive);
          dot.classList.toggle('sm:w-3', !isActive);
        });
      }

      function resetCarouselInterval() {
        if (carouselInterval) clearInterval(carouselInterval);
        carouselInterval = setInterval(() => {
          showImage(currentCarouselIndex + 1);
        }, 5000);
      }
      
      document.getElementById('carousel-prev').addEventListener('click', () => {
        showImage(currentCarouselIndex - 1);
        resetCarouselInterval();
      });
      document.getElementById('carousel-next').addEventListener('click', () => {
        showImage(currentCarouselIndex + 1);
        resetCarouselInterval();
      });
      dots.forEach(dot => {
        dot.addEventListener('click', () => {
          showImage(parseInt(dot.dataset.index));
          resetCarouselInterval();
        });
      });
      
      resetCarouselInterval(); 
    }
    
    function initContactForm() {
      const form = document.getElementById('contact-form');
      if (!form) return;
      
      const submitButton = form.querySelector('button[type="submit"]');
      const buttonText = submitButton.querySelector('span');
      
      form.addEventListener('submit', (e) => {
        e.preventDefault();
        
        buttonText.textContent = 'Sending...';
        submitButton.disabled = true;
        submitButton.querySelector('i').classList.add('animate-spin');
        
        setTimeout(() => {
          showToast('Message sent successfully!', 'success');
          form.reset();
          submitButton.disabled = false;
          submitButton.querySelector('i').classList.remove('animate-spin');
          buttonText.textContent = 'Send Message';
        }, 1500);
      });

      const inputs = form.querySelectorAll('input, textarea');
      inputs.forEach(input => {
        input.addEventListener('focus', () => input.parentElement.classList.add('shadow-md', 'scale-[1.02]'));
        input.addEventListener('blur', () => input.parentElement.classList.remove('shadow-md', 'scale-[1.02]'));
      });
    }
    
    function initKeralaMap() {
        if (typeof L === 'undefined') {
            console.error('Leaflet.js is not loaded.');
            return;
        }

        const mapContainer = document.getElementById('kerala-map');
        if (!mapContainer) {
            return;
        }
        
        if (mapContainer._leaflet_id) {
          mapContainer._leaflet_id = null;
        }

        const map = L.map('kerala-map', {
            scrollWheelZoom: false,
            zoomControl: true,
            attributionControl: false,
            maxBoundsViscosity: 0.9,
            minZoom: 7,
            maxZoom: 10,
            doubleClickZoom: false
        });

        map.setView([10.35, 76.4], 7.5);

        const nameEl = document.getElementById('district-name');
        const personEl = document.getElementById('info-person');
        const phoneEl = document.getElementById('info-phone');
        const emailEl = document.getElementById('info-email');

        if (!nameEl || !personEl || !phoneEl || !emailEl) {
            return;
        }

        let selectedLayer = null;

        function randomPastel(seed) {
            let h = 0;
            for (let i = 0; i < seed.length; i++) h = (h * 31 + seed.charCodeAt(i)) % 360;
            const s = 55, l = 70;
            return `hsl(${h}, ${s}%, ${l}%)`;
        }

        function districtStyle(feature) {
            const name = feature.properties?.DISTRICT || 'District';
            return {
                fillColor: randomPastel(name),
                color: '#1f2937',
                weight: 1,
                opacity: 1,
                fillOpacity: 0.55,
                className: 'district-default',
            };
        }

        function highlight(layer) {
            layer.setStyle({ weight: 2, fillOpacity: 0.8, color: '#111827' });
            if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
                layer.bringToFront();
            }
        }

        function resetHighlight(layer, feature) {
            layer.setStyle(districtStyle(feature));
        }

        function updateSidebar(name) {
            nameEl.textContent = name;
            const districtId = name.toLowerCase().replace(/\s+/g, '');
            const d = districts.find(dist => dist.id === districtId);

            if (d) {
                personEl.textContent = d.contactPerson;
                phoneEl.innerHTML = `<a href="tel:${d.contactNumber}" class="text-[#B20710] hover:underline">${d.contactNumber}</a>`;
                emailEl.innerHTML = `<a href="mailto:${d.email}" class="text-[#B20710] hover:underline">${d.email}</a>`;
            } else {
                personEl.textContent = 'No contact info found';
                phoneEl.innerHTML = '<span>â</span>';
                emailEl.innerHTML = '<span>â</span>';
            }
        }

        function onEachFeature(feature, layer) {
            const name = feature.properties?.DISTRICT || 'District';

            layer.on({
                mouseover: () => layer.setStyle({ fillOpacity: 0.7 }),
                mouseout: () => {
                    if (selectedLayer !== layer) layer.setStyle({ fillOpacity: 0.55 });
                },
                click: () => {
                    if (selectedLayer && selectedLayer !== layer) {
                        resetHighlight(selectedLayer, selectedLayer.feature);
                    }
                    selectedLayer = layer;
                    highlight(layer);
                    updateSidebar(name);
                    map.fitBounds(layer.getBounds(), { padding: [20, 20] });
                },
            });
            layer.bindTooltip(name, { sticky: true });
        }

        async function loadDistricts() {
            const url = 'https://raw.githubusercontent.com/geohacker/kerala/master/geojsons/district.geojson';
            try {
                const res = await fetch(url);
                if (!res.ok) throw new Error(`Failed to load GeoJSON: ${res.status}`);
                const gj = await res.json();
                
                const layer = L.geoJSON(gj, {
                    style: districtStyle,
                    onEachFeature,
                }).addTo(map);

                const bounds = layer.getBounds();
                map.fitBounds(bounds, { padding: [20, 20] });
                map.setMaxBounds(bounds.pad(0.02));
            } catch (err) {
                console.error(err);
                if (nameEl) nameEl.textContent = 'Error loading districts';
            }
        }

        loadDistricts();
    }
    
    // --- INITIAL APP LOAD ---
    document.addEventListener('DOMContentLoaded', renderApp);

  </script>
</body>
</html>
